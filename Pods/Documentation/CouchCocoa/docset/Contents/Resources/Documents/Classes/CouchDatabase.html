<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>CouchDatabase Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.1 (build 840)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">CouchCocoa 0.961beta6 </a></h1>
				<a id="developerHome" href="../index.html">Jens Alfke</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">CouchDatabase Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/documentPathMap">&nbsp;&nbsp;&nbsp;&nbsp;documentPathMap</option>
	
	<option value="//api/name/lastSequenceNumber">&nbsp;&nbsp;&nbsp;&nbsp;lastSequenceNumber</option>
	
	<option value="//api/name/modelFactory">&nbsp;&nbsp;&nbsp;&nbsp;modelFactory</option>
	
	<option value="//api/name/replications">&nbsp;&nbsp;&nbsp;&nbsp;replications</option>
	
	<option value="//api/name/server">&nbsp;&nbsp;&nbsp;&nbsp;server</option>
	
	<option value="//api/name/tracksChanges">&nbsp;&nbsp;&nbsp;&nbsp;tracksChanges</option>
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/databaseNamed:onServerWithURL:">&nbsp;&nbsp;&nbsp;&nbsp;+ databaseNamed:onServerWithURL:</option>
	
	<option value="//api/name/databaseWithURL:">&nbsp;&nbsp;&nbsp;&nbsp;+ databaseWithURL:</option>
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/beginDocumentOperation:">&nbsp;&nbsp;&nbsp;&nbsp;- beginDocumentOperation:</option>
	
	<option value="//api/name/changeTrackerReceivedChange:">&nbsp;&nbsp;&nbsp;&nbsp;- changeTrackerReceivedChange:</option>
	
	<option value="//api/name/clearDocumentCache">&nbsp;&nbsp;&nbsp;&nbsp;- clearDocumentCache</option>
	
	<option value="//api/name/compact">&nbsp;&nbsp;&nbsp;&nbsp;- compact</option>
	
	<option value="//api/name/create">&nbsp;&nbsp;&nbsp;&nbsp;- create</option>
	
	<option value="//api/name/deleteDocuments:">&nbsp;&nbsp;&nbsp;&nbsp;- deleteDocuments:</option>
	
	<option value="//api/name/deleteRevisions:">&nbsp;&nbsp;&nbsp;&nbsp;- deleteRevisions:</option>
	
	<option value="//api/name/designDocumentWithName:">&nbsp;&nbsp;&nbsp;&nbsp;- designDocumentWithName:</option>
	
	<option value="//api/name/documentAssignedID:">&nbsp;&nbsp;&nbsp;&nbsp;- documentAssignedID:</option>
	
	<option value="//api/name/documentWithID:">&nbsp;&nbsp;&nbsp;&nbsp;- documentWithID:</option>
	
	<option value="//api/name/endDocumentOperation:">&nbsp;&nbsp;&nbsp;&nbsp;- endDocumentOperation:</option>
	
	<option value="//api/name/ensureCreated:">&nbsp;&nbsp;&nbsp;&nbsp;- ensureCreated:</option>
	
	<option value="//api/name/getAllDocuments">&nbsp;&nbsp;&nbsp;&nbsp;- getAllDocuments</option>
	
	<option value="//api/name/getDocumentCount">&nbsp;&nbsp;&nbsp;&nbsp;- getDocumentCount</option>
	
	<option value="//api/name/getDocumentsWithIDs:">&nbsp;&nbsp;&nbsp;&nbsp;- getDocumentsWithIDs:</option>
	
	<option value="//api/name/objectForKeyedSubscript:">&nbsp;&nbsp;&nbsp;&nbsp;- objectForKeyedSubscript:</option>
	
	<option value="//api/name/onChange:">&nbsp;&nbsp;&nbsp;&nbsp;- onChange:</option>
	
	<option value="//api/name/pullFromDatabaseAtURL:">&nbsp;&nbsp;&nbsp;&nbsp;- pullFromDatabaseAtURL:</option>
	
	<option value="//api/name/purgeDocuments:">&nbsp;&nbsp;&nbsp;&nbsp;- purgeDocuments:</option>
	
	<option value="//api/name/pushToDatabaseAtURL:">&nbsp;&nbsp;&nbsp;&nbsp;- pushToDatabaseAtURL:</option>
	
	<option value="//api/name/putChanges:">&nbsp;&nbsp;&nbsp;&nbsp;- putChanges:</option>
	
	<option value="//api/name/putChanges:toRevisions:">&nbsp;&nbsp;&nbsp;&nbsp;- putChanges:toRevisions:</option>
	
	<option value="//api/name/replicateWithURL:exclusively:">&nbsp;&nbsp;&nbsp;&nbsp;- replicateWithURL:exclusively:</option>
	
	<option value="//api/name/replicationFromDatabaseAtURL:">&nbsp;&nbsp;&nbsp;&nbsp;- replicationFromDatabaseAtURL:</option>
	
	<option value="//api/name/replicationToDatabaseAtURL:">&nbsp;&nbsp;&nbsp;&nbsp;- replicationToDatabaseAtURL:</option>
	
	<option value="//api/name/slowQueryWithMap:">&nbsp;&nbsp;&nbsp;&nbsp;- slowQueryWithMap:</option>
	
	<option value="//api/name/slowQueryWithMap:reduce:language:">&nbsp;&nbsp;&nbsp;&nbsp;- slowQueryWithMap:reduce:language:</option>
	
	<option value="//api/name/unretainDocumentCache">&nbsp;&nbsp;&nbsp;&nbsp;- unretainDocumentCache</option>
	
	<option value="//api/name/untitledDocument">&nbsp;&nbsp;&nbsp;&nbsp;- untitledDocument</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_CouchModelFactory Methods">CouchModelFactory Methods</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Extension Methods">Extension Methods</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/documentPathMap">documentPathMap</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/lastSequenceNumber">lastSequenceNumber</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/modelFactory">modelFactory</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/replications">replications</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/server">server</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/tracksChanges">tracksChanges</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/databaseNamed:onServerWithURL:">databaseNamed:onServerWithURL:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/databaseWithURL:">databaseWithURL:</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/beginDocumentOperation:">beginDocumentOperation:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/changeTrackerReceivedChange:">changeTrackerReceivedChange:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/clearDocumentCache">clearDocumentCache</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/compact">compact</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/create">create</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/deleteDocuments:">deleteDocuments:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/deleteRevisions:">deleteRevisions:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/designDocumentWithName:">designDocumentWithName:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/documentAssignedID:">documentAssignedID:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/documentWithID:">documentWithID:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/endDocumentOperation:">endDocumentOperation:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/ensureCreated:">ensureCreated:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/getAllDocuments">getAllDocuments</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/getDocumentCount">getDocumentCount</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/getDocumentsWithIDs:">getDocumentsWithIDs:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/objectForKeyedSubscript:">objectForKeyedSubscript:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/onChange:">onChange:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/pullFromDatabaseAtURL:">pullFromDatabaseAtURL:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/purgeDocuments:">purgeDocuments:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/pushToDatabaseAtURL:">pushToDatabaseAtURL:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/putChanges:">putChanges:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/putChanges:toRevisions:">putChanges:toRevisions:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/replicateWithURL:exclusively:">replicateWithURL:exclusively:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/replicationFromDatabaseAtURL:">replicationFromDatabaseAtURL:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/replicationToDatabaseAtURL:">replicationToDatabaseAtURL:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/slowQueryWithMap:">slowQueryWithMap:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/slowQueryWithMap:reduce:language:">slowQueryWithMap:reduce:language:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/unretainDocumentCache">unretainDocumentCache</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/untitledDocument">untitledDocument</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="CouchDatabase Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">CouchDatabase Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value"><a href="../Classes/CouchResource.html">CouchResource</a> : <a href="../Classes/RESTResource.html">RESTResource</a> : NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">CouchDatabase.h</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>A CouchDB database; contains CouchDocuments.</p>

<pre><code>The CouchServer is the factory object for CouchDatabases. 
</code></pre>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						<h3 class="subsubtitle task-title">Other Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/databaseWithURL:">+&nbsp;databaseWithURL:</a></code>
		<span class="tooltip"><p>A convenience to instantiate a CouchDatabase directly from a URL, without having to first instantiate a <a href="../Classes/CouchServer.html">CouchServer</a>.</p>

<pre><code>Unlike CouchServer's -databaseNamed: method, if you call this twice with the same URL you _will_ get two distinct CouchDatabase objects (with two distinct CouchServers as parents.) 
</code></pre></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/databaseNamed:onServerWithURL:">+&nbsp;databaseNamed:onServerWithURL:</a></code>
		<span class="tooltip"><p>A convenience to instantiate a CouchDatabase directly from a name and a <a href="#//api/name/server">server</a> URL, without having to first instantiate a <a href="../Classes/CouchServer.html">CouchServer</a>.</p>

<pre><code>Unlike CouchServer's -databaseNamed: method, if you call this twice with the same URL/name you _will_ get two distinct CouchDatabase objects (with two distinct CouchServers as parents.) 
</code></pre></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/server">&nbsp;&nbsp;server</a></code>
		
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/documentPathMap">&nbsp;&nbsp;documentPathMap</a></code>
		<span class="tooltip"><p>Allows retrieving documents from the CouchDatabase using a different path from the documentID. This is useful for</p>

<pre><code>accessing a document using a Couch rewrite. The result of the CouchDocumentPathMap is the path relative to the database. 
</code></pre></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/create">&ndash;&nbsp;create</a></code>
		<span class="tooltip"><p>Creates the database on the <a href="#//api/name/server">server</a>.</p>

<pre><code>Fails with an HTTP status 412 (Conflict) if a database with this name already exists. 
</code></pre></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/ensureCreated:">&ndash;&nbsp;ensureCreated:</a></code>
		<span class="tooltip"><p>Creates the database on the <a href="#//api/name/server">server</a>, if it doesn&rsquo;t already exist (Synchronous).</p>

<pre><code>This calls create and waits for completion, but ignores HTTP status 412. 
</code></pre></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/compact">&ndash;&nbsp;compact</a></code>
		<span class="tooltip"><p>Compacts the database, freeing up disk space by deleting old revisions of documents.</p>

<pre><code>This should be run periodically, especially after making a lot of changes.
Note: The REST operation completes as soon as the server starts compacting, but the actual compaction will run asynchronously and may take a while. 
</code></pre></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/getDocumentCount">&ndash;&nbsp;getDocumentCount</a></code>
		<span class="tooltip"><p>Gets the current total number of documents. (Synchronous)</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/documentWithID:">&ndash;&nbsp;documentWithID:</a></code>
		<span class="tooltip"><p>Instantiates a <a href="../Classes/CouchDocument.html">CouchDocument</a> object with the given ID.</p>

<pre><code>Makes no server calls; a document with that ID doesn't even need to exist yet.
CouchDocuments are cached, so there will never be more than one instance (in this database)
at a time with the same documentID. 
</code></pre></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/objectForKeyedSubscript:">&ndash;&nbsp;objectForKeyedSubscript:</a></code>
		<span class="tooltip"><p>Same as <a href="#//api/name/documentWithID:">documentWithID:</a>. Enables &ldquo;[]&rdquo; access in Xcode 4.4+</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/untitledDocument">&ndash;&nbsp;untitledDocument</a></code>
		<span class="tooltip"><p>Creates a <a href="../Classes/CouchDocument.html">CouchDocument</a> object with no current ID.</p>

<pre><code>The first time you PUT to that document, it will be created on the server (via a POST). 
</code></pre></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/getAllDocuments">&ndash;&nbsp;getAllDocuments</a></code>
		<span class="tooltip"><p>Returns a query that will fetch all documents in the database.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/getDocumentsWithIDs:">&ndash;&nbsp;getDocumentsWithIDs:</a></code>
		<span class="tooltip"><p>Returns a query that will fetch the documents with the given IDs.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/putChanges:toRevisions:">&ndash;&nbsp;putChanges:toRevisions:</a></code>
		<span class="tooltip"><p>Bulk-writes multiple documents in one HTTP call.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/putChanges:">&ndash;&nbsp;putChanges:</a></code>
		<span class="tooltip"><p>Bulk-writes multiple documents in one HTTP call.</p>

<pre><code>Each property dictionary with an "_id" key will update the existing document with that ID, or create a new document with that ID. A dictionary without an "_id" key will always create a new document with a server-assigned unique ID.
If a dictionary updates an existing document, it must also have an "_rev" key that contains the document's current revision ID.
The write is asynchronous, but after the returned operation finishes, its -resultObject will be an NSArray of CouchDocuments.
</code></pre></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/deleteRevisions:">&ndash;&nbsp;deleteRevisions:</a></code>
		<span class="tooltip"><p>Deletes the given revisions.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/deleteDocuments:">&ndash;&nbsp;deleteDocuments:</a></code>
		<span class="tooltip"><p>Deletes the given documents.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/purgeDocuments:">&ndash;&nbsp;purgeDocuments:</a></code>
		<span class="tooltip"><p>Purges the given documents from the database; this isn&rsquo;t deletion, more like forgetting entirely about them.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/clearDocumentCache">&ndash;&nbsp;clearDocumentCache</a></code>
		<span class="tooltip"><p>Empties the cache of recently used <a href="../Classes/CouchDocument.html">CouchDocument</a> objects.</p>

<pre><code>API calls will now instantiate and return new instances. 
</code></pre></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/slowQueryWithMap:reduce:language:">&ndash;&nbsp;slowQueryWithMap:reduce:language:</a></code>
		<span class="tooltip"><p>Returns a query that runs custom map/reduce functions.</p>

<pre><code>This is very slow compared to a precompiled view and should only be used for testing.
</code></pre></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/slowQueryWithMap:">&ndash;&nbsp;slowQueryWithMap:</a></code>
		<span class="tooltip"><p>Convenience method that creates a custom query from a JavaScript map function.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/designDocumentWithName:">&ndash;&nbsp;designDocumentWithName:</a></code>
		<span class="tooltip"><p>Instantiates a <a href="../Classes/CouchDesignDocument.html">CouchDesignDocument</a> object with the given ID.</p>

<pre><code>Makes no server calls; a design document with that ID doesn't even need to exist yet.
CouchDesignDocuments are cached, so there will never be more than one instance (in this database) at a time with the same name. 
</code></pre></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/tracksChanges">&nbsp;&nbsp;tracksChanges</a></code>
		<span class="tooltip"><p>Controls whether document change-tracking is enabled.</p>

<pre><code>It's off by default.
Only external changes are tracked, not ones made through this database object and its children. This is useful in handling synchronization, or multi-client access to the same database, or on application relaunch to detect changes made after it last quit.
Turning tracking on creates a persistent socket connection to the database, and will post potentially a lot of notifications, so don't turn it on unless you're actually going to use the notifications. 
</code></pre></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/lastSequenceNumber">&nbsp;&nbsp;lastSequenceNumber</a></code>
		<span class="tooltip"><p>The last change sequence number received from the database.</p>

<pre><code>If this is not known yet, the current value will be fetched via a synchronous query.
You can save the current value on quit, and restore it on relaunch before enabling change tracking, to get notifications of all changes that have occurred in the meantime. 
</code></pre></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/pullFromDatabaseAtURL:">&ndash;&nbsp;pullFromDatabaseAtURL:</a></code>
		<span class="tooltip"><p>Triggers replication from a source database, to this database.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/pushToDatabaseAtURL:">&ndash;&nbsp;pushToDatabaseAtURL:</a></code>
		<span class="tooltip"><p>Triggers replication from this database to a target database.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/replicateWithURL:exclusively:">&ndash;&nbsp;replicateWithURL:exclusively:</a></code>
		<span class="tooltip"><p>Configures this database to replicate bidirectionally (sync to and from) a database at the given URL.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/replicationFromDatabaseAtURL:">&ndash;&nbsp;replicationFromDatabaseAtURL:</a></code>
		<span class="tooltip"><p>Creates a persistent replication from a database (a pull).</p>

<pre><code>Returns an object representing this replication. If a replication from this URL already exists, the configuration is unchanged. 
</code></pre></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/replicationToDatabaseAtURL:">&ndash;&nbsp;replicationToDatabaseAtURL:</a></code>
		<span class="tooltip"><p>Creates a persistent replication to a database (a push).</p>

<pre><code>Returns an object representing this replication. If a replication from this URL already exists, the configuration is unchanged. 
</code></pre></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/replications">&nbsp;&nbsp;replications</a></code>
		<span class="tooltip"><p>All currently configured persistent replications involving this database, as <a href="../Classes/CouchPersistentReplication.html">CouchPersistentReplication</a> objects.</p></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
						
						<a title="CouchModelFactory Methods" name="task_CouchModelFactory Methods"></a>
						<h3 class="subsubtitle task-title">CouchModelFactory Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/modelFactory">&nbsp;&nbsp;modelFactory</a></code>
		<span class="tooltip"><p>The <a href="../Classes/CouchModel.html">CouchModel</a> factory object to be used by this database.</p>

<pre><code>Every database has its own instance by default, but you can set this property to use a different one -- either to use a custom subclass, or to share a factory among multiple databases, or both. 
</code></pre></span>
	</span>
	<span class="task-item-suffix">property</span>
	
</li>
						</ul>
						
						
						<a title="Extension Methods" name="task_Extension Methods"></a>
						<h3 class="subsubtitle task-title">Extension Methods</h3>

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/documentAssignedID:">&ndash;&nbsp;documentAssignedID:</a></code>
		
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/beginDocumentOperation:">&ndash;&nbsp;beginDocumentOperation:</a></code>
		
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/endDocumentOperation:">&ndash;&nbsp;endDocumentOperation:</a></code>
		
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/onChange:">&ndash;&nbsp;onChange:</a></code>
		
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/unretainDocumentCache">&ndash;&nbsp;unretainDocumentCache</a></code>
		
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/changeTrackerReceivedChange:">&ndash;&nbsp;changeTrackerReceivedChange:</a></code>
		
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/documentPathMap" title="documentPathMap"></a>
	<h3 class="subsubtitle method-title">documentPathMap</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Allows retrieving documents from the CouchDatabase using a different path from the documentID. This is useful for</p>

<pre><code>accessing a document using a Couch rewrite. The result of the CouchDocumentPathMap is the path relative to the database. 
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (copy) CouchDocumentPathMap documentPathMap</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Allows retrieving documents from the CouchDatabase using a different path from the documentID. This is useful for</p>

<pre><code>accessing a document using a Couch rewrite. The result of the CouchDocumentPathMap is the path relative to the database. 
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/lastSequenceNumber" title="lastSequenceNumber"></a>
	<h3 class="subsubtitle method-title">lastSequenceNumber</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The last change sequence number received from the database.</p>

<pre><code>If this is not known yet, the current value will be fetched via a synchronous query.
You can save the current value on quit, and restore it on relaunch before enabling change tracking, to get notifications of all changes that have occurred in the meantime. 
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property NSUInteger lastSequenceNumber</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The last change sequence number received from the database.</p>

<pre><code>If this is not known yet, the current value will be fetched via a synchronous query.
You can save the current value on quit, and restore it on relaunch before enabling change tracking, to get notifications of all changes that have occurred in the meantime. 
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/modelFactory" title="modelFactory"></a>
	<h3 class="subsubtitle method-title">modelFactory</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The <a href="../Classes/CouchModel.html">CouchModel</a> factory object to be used by this database.</p>

<pre><code>Every database has its own instance by default, but you can set this property to use a different one -- either to use a custom subclass, or to share a factory among multiple databases, or both. 
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (retain) CouchModelFactory *modelFactory</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The <a href="../Classes/CouchModel.html">CouchModel</a> factory object to be used by this database.</p>

<pre><code>Every database has its own instance by default, but you can set this property to use a different one -- either to use a custom subclass, or to share a factory among multiple databases, or both. 
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchModelFactory.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/replications" title="replications"></a>
	<h3 class="subsubtitle method-title">replications</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>All currently configured persistent replications involving this database, as <a href="../Classes/CouchPersistentReplication.html">CouchPersistentReplication</a> objects.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property (readonly) NSArray *replications</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>All currently configured persistent replications involving this database, as <a href="../Classes/CouchPersistentReplication.html">CouchPersistentReplication</a> objects.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/server" title="server"></a>
	<h3 class="subsubtitle method-title">server</h3>
	
	

	<div class="method-subsection method-declaration"><code>@property (readonly) CouchServer *server</code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/tracksChanges" title="tracksChanges"></a>
	<h3 class="subsubtitle method-title">tracksChanges</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Controls whether document change-tracking is enabled.</p>

<pre><code>It's off by default.
Only external changes are tracked, not ones made through this database object and its children. This is useful in handling synchronization, or multi-client access to the same database, or on application relaunch to detect changes made after it last quit.
Turning tracking on creates a persistent socket connection to the database, and will post potentially a lot of notifications, so don't turn it on unless you're actually going to use the notifications. 
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>@property BOOL tracksChanges</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Controls whether document change-tracking is enabled.</p>

<pre><code>It's off by default.
Only external changes are tracked, not ones made through this database object and its children. This is useful in handling synchronization, or multi-client access to the same database, or on application relaunch to detect changes made after it last quit.
Turning tracking on creates a persistent socket connection to the database, and will post potentially a lot of notifications, so don't turn it on unless you're actually going to use the notifications. 
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/databaseNamed:onServerWithURL:" title="databaseNamed:onServerWithURL:"></a>
	<h3 class="subsubtitle method-title">databaseNamed:onServerWithURL:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>A convenience to instantiate a CouchDatabase directly from a name and a <a href="#//api/name/server">server</a> URL, without having to first instantiate a <a href="../Classes/CouchServer.html">CouchServer</a>.</p>

<pre><code>Unlike CouchServer's -databaseNamed: method, if you call this twice with the same URL/name you _will_ get two distinct CouchDatabase objects (with two distinct CouchServers as parents.) 
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (CouchDatabase *)databaseNamed:(NSString *)<em>databaseName</em> onServerWithURL:(NSURL *)<em>serverURL</em></code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>A convenience to instantiate a CouchDatabase directly from a name and a <a href="#//api/name/server">server</a> URL, without having to first instantiate a <a href="../Classes/CouchServer.html">CouchServer</a>.</p>

<pre><code>Unlike CouchServer's -databaseNamed: method, if you call this twice with the same URL/name you _will_ get two distinct CouchDatabase objects (with two distinct CouchServers as parents.) 
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/databaseWithURL:" title="databaseWithURL:"></a>
	<h3 class="subsubtitle method-title">databaseWithURL:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>A convenience to instantiate a CouchDatabase directly from a URL, without having to first instantiate a <a href="../Classes/CouchServer.html">CouchServer</a>.</p>

<pre><code>Unlike CouchServer's -databaseNamed: method, if you call this twice with the same URL you _will_ get two distinct CouchDatabase objects (with two distinct CouchServers as parents.) 
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (CouchDatabase *)databaseWithURL:(NSURL *)<em>databaseURL</em></code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>A convenience to instantiate a CouchDatabase directly from a URL, without having to first instantiate a <a href="../Classes/CouchServer.html">CouchServer</a>.</p>

<pre><code>Unlike CouchServer's -databaseNamed: method, if you call this twice with the same URL you _will_ get two distinct CouchDatabase objects (with two distinct CouchServers as parents.) 
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/beginDocumentOperation:" title="beginDocumentOperation:"></a>
	<h3 class="subsubtitle method-title">beginDocumentOperation:</h3>
	
	

	<div class="method-subsection method-declaration"><code>- (void)beginDocumentOperation:(CouchResource *)<em>resource</em></code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/changeTrackerReceivedChange:" title="changeTrackerReceivedChange:"></a>
	<h3 class="subsubtitle method-title">changeTrackerReceivedChange:</h3>
	
	

	<div class="method-subsection method-declaration"><code>- (void)changeTrackerReceivedChange:(NSDictionary *)<em>change</em></code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/clearDocumentCache" title="clearDocumentCache"></a>
	<h3 class="subsubtitle method-title">clearDocumentCache</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Empties the cache of recently used <a href="../Classes/CouchDocument.html">CouchDocument</a> objects.</p>

<pre><code>API calls will now instantiate and return new instances. 
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)clearDocumentCache</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Empties the cache of recently used <a href="../Classes/CouchDocument.html">CouchDocument</a> objects.</p>

<pre><code>API calls will now instantiate and return new instances. 
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/compact" title="compact"></a>
	<h3 class="subsubtitle method-title">compact</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Compacts the database, freeing up disk space by deleting old revisions of documents.</p>

<pre><code>This should be run periodically, especially after making a lot of changes.
Note: The REST operation completes as soon as the server starts compacting, but the actual compaction will run asynchronously and may take a while. 
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (RESTOperation *)compact</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Compacts the database, freeing up disk space by deleting old revisions of documents.</p>

<pre><code>This should be run periodically, especially after making a lot of changes.
Note: The REST operation completes as soon as the server starts compacting, but the actual compaction will run asynchronously and may take a while. 
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/create" title="create"></a>
	<h3 class="subsubtitle method-title">create</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Creates the database on the <a href="#//api/name/server">server</a>.</p>

<pre><code>Fails with an HTTP status 412 (Conflict) if a database with this name already exists. 
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (RESTOperation *)create</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Creates the database on the <a href="#//api/name/server">server</a>.</p>

<pre><code>Fails with an HTTP status 412 (Conflict) if a database with this name already exists. 
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/deleteDocuments:" title="deleteDocuments:"></a>
	<h3 class="subsubtitle method-title">deleteDocuments:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Deletes the given documents.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (RESTOperation *)deleteDocuments:(NSArray *)<em>documents</em></code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Deletes the given documents.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/deleteRevisions:" title="deleteRevisions:"></a>
	<h3 class="subsubtitle method-title">deleteRevisions:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Deletes the given revisions.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (RESTOperation *)deleteRevisions:(NSArray *)<em>revisions</em></code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Deletes the given revisions.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/designDocumentWithName:" title="designDocumentWithName:"></a>
	<h3 class="subsubtitle method-title">designDocumentWithName:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Instantiates a <a href="../Classes/CouchDesignDocument.html">CouchDesignDocument</a> object with the given ID.</p>

<pre><code>Makes no server calls; a design document with that ID doesn't even need to exist yet.
CouchDesignDocuments are cached, so there will never be more than one instance (in this database) at a time with the same name. 
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (CouchDesignDocument *)designDocumentWithName:(NSString *)<em>name</em></code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Instantiates a <a href="../Classes/CouchDesignDocument.html">CouchDesignDocument</a> object with the given ID.</p>

<pre><code>Makes no server calls; a design document with that ID doesn't even need to exist yet.
CouchDesignDocuments are cached, so there will never be more than one instance (in this database) at a time with the same name. 
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/documentAssignedID:" title="documentAssignedID:"></a>
	<h3 class="subsubtitle method-title">documentAssignedID:</h3>
	
	

	<div class="method-subsection method-declaration"><code>- (void)documentAssignedID:(CouchDocument *)<em>document</em></code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/documentWithID:" title="documentWithID:"></a>
	<h3 class="subsubtitle method-title">documentWithID:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Instantiates a <a href="../Classes/CouchDocument.html">CouchDocument</a> object with the given ID.</p>

<pre><code>Makes no server calls; a document with that ID doesn't even need to exist yet.
CouchDocuments are cached, so there will never be more than one instance (in this database)
at a time with the same documentID. 
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (CouchDocument *)documentWithID:(NSString *)<em>docID</em></code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Instantiates a <a href="../Classes/CouchDocument.html">CouchDocument</a> object with the given ID.</p>

<pre><code>Makes no server calls; a document with that ID doesn't even need to exist yet.
CouchDocuments are cached, so there will never be more than one instance (in this database)
at a time with the same documentID. 
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/endDocumentOperation:" title="endDocumentOperation:"></a>
	<h3 class="subsubtitle method-title">endDocumentOperation:</h3>
	
	

	<div class="method-subsection method-declaration"><code>- (void)endDocumentOperation:(CouchResource *)<em>resource</em></code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/ensureCreated:" title="ensureCreated:"></a>
	<h3 class="subsubtitle method-title">ensureCreated:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Creates the database on the <a href="#//api/name/server">server</a>, if it doesn&rsquo;t already exist (Synchronous).</p>

<pre><code>This calls create and waits for completion, but ignores HTTP status 412. 
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (BOOL)ensureCreated:(NSError **)<em>outError</em></code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Creates the database on the <a href="#//api/name/server">server</a>, if it doesn&rsquo;t already exist (Synchronous).</p>

<pre><code>This calls create and waits for completion, but ignores HTTP status 412. 
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/getAllDocuments" title="getAllDocuments"></a>
	<h3 class="subsubtitle method-title">getAllDocuments</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Returns a query that will fetch all documents in the database.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (CouchQuery *)getAllDocuments</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Returns a query that will fetch all documents in the database.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/getDocumentCount" title="getDocumentCount"></a>
	<h3 class="subsubtitle method-title">getDocumentCount</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Gets the current total number of documents. (Synchronous)</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSInteger)getDocumentCount</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Gets the current total number of documents. (Synchronous)</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/getDocumentsWithIDs:" title="getDocumentsWithIDs:"></a>
	<h3 class="subsubtitle method-title">getDocumentsWithIDs:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Returns a query that will fetch the documents with the given IDs.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (CouchQuery *)getDocumentsWithIDs:(NSArray *)<em>docIDs</em></code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Returns a query that will fetch the documents with the given IDs.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/objectForKeyedSubscript:" title="objectForKeyedSubscript:"></a>
	<h3 class="subsubtitle method-title">objectForKeyedSubscript:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Same as <a href="#//api/name/documentWithID:">documentWithID:</a>. Enables &ldquo;[]&rdquo; access in Xcode 4.4+</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (id)objectForKeyedSubscript:(NSString *)<em>key</em></code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Same as <a href="#//api/name/documentWithID:">documentWithID:</a>. Enables &ldquo;[]&rdquo; access in Xcode 4.4+</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/onChange:" title="onChange:"></a>
	<h3 class="subsubtitle method-title">onChange:</h3>
	
	

	<div class="method-subsection method-declaration"><code>- (void)onChange:(OnDatabaseChangeBlock)<em>block</em></code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/pullFromDatabaseAtURL:" title="pullFromDatabaseAtURL:"></a>
	<h3 class="subsubtitle method-title">pullFromDatabaseAtURL:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Triggers replication from a source database, to this database.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (CouchReplication *)pullFromDatabaseAtURL:(NSURL *)<em>sourceURL</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>sourceURL</em></dt>
			<dd><p>The URL of the database to replicate from.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The <a href="../Classes/CouchReplication.html">CouchReplication</a> object managing the replication. You have a chance to customize its properties (like .continuous and .filter) before it starts.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Triggers replication from a source database, to this database.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/purgeDocuments:" title="purgeDocuments:"></a>
	<h3 class="subsubtitle method-title">purgeDocuments:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Purges the given documents from the database; this isn&rsquo;t deletion, more like forgetting entirely about them.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (RESTOperation *)purgeDocuments:(NSArray *)<em>documents</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>documents</em></dt>
			<dd><p>Array of <a href="../Classes/CouchDocument.html">CouchDocument</a> objects or document IDs (NSStrings).</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Purges the given documents from the database; this isn&rsquo;t deletion, more like forgetting entirely about them.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/pushToDatabaseAtURL:" title="pushToDatabaseAtURL:"></a>
	<h3 class="subsubtitle method-title">pushToDatabaseAtURL:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Triggers replication from this database to a target database.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (CouchReplication *)pushToDatabaseAtURL:(NSURL *)<em>targetURL</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>targetURL</em></dt>
			<dd><p>The URL of the database to replicate to.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The <a href="../Classes/CouchReplication.html">CouchReplication</a> object managing the replication. You have a chance to customize its properties (like .continuous and .filter) before it starts.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Triggers replication from this database to a target database.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/putChanges:" title="putChanges:"></a>
	<h3 class="subsubtitle method-title">putChanges:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Bulk-writes multiple documents in one HTTP call.</p>

<pre><code>Each property dictionary with an "_id" key will update the existing document with that ID, or create a new document with that ID. A dictionary without an "_id" key will always create a new document with a server-assigned unique ID.
If a dictionary updates an existing document, it must also have an "_rev" key that contains the document's current revision ID.
The write is asynchronous, but after the returned operation finishes, its -resultObject will be an NSArray of CouchDocuments.
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (RESTOperation *)putChanges:(NSArray *)<em>properties</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>properties</em></dt>
			<dd><p>Array of NSDictionaries, each one the properties of a document.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Bulk-writes multiple documents in one HTTP call.</p>

<pre><code>Each property dictionary with an "_id" key will update the existing document with that ID, or create a new document with that ID. A dictionary without an "_id" key will always create a new document with a server-assigned unique ID.
If a dictionary updates an existing document, it must also have an "_rev" key that contains the document's current revision ID.
The write is asynchronous, but after the returned operation finishes, its -resultObject will be an NSArray of CouchDocuments.
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/putChanges:toRevisions:" title="putChanges:toRevisions:"></a>
	<h3 class="subsubtitle method-title">putChanges:toRevisions:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Bulk-writes multiple documents in one HTTP call.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (RESTOperation *)putChanges:(NSArray *)<em>properties</em> toRevisions:(NSArray *)<em>revisions</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>properties</em></dt>
			<dd><p>An array specifying the new properties of each item in revisions. Each item must be an NSDictionary, or an NSNull object which means to delete the corresponding document.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>revisions</em></dt>
			<dd><p>A parallel array to &lsquo;properties&rsquo;, containing each <a href="../Classes/CouchRevision.html">CouchRevision</a> or <a href="../Classes/CouchDocument.html">CouchDocument</a> to be updated. Can be nil, in which case the method acts as described in the docs for <a href="#//api/name/putChanges:">putChanges:</a>.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Bulk-writes multiple documents in one HTTP call.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/replicateWithURL:exclusively:" title="replicateWithURL:exclusively:"></a>
	<h3 class="subsubtitle method-title">replicateWithURL:exclusively:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Configures this database to replicate bidirectionally (sync to and from) a database at the given URL.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (NSArray *)replicateWithURL:(NSURL *)<em>otherURL</em> exclusively:(BOOL)<em>exclusively</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>otherURL</em></dt>
			<dd><p>The URL of the other database, or nil to indicate no replication.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>exclusively</em></dt>
			<dd><p>If YES, any existing <a href="#//api/name/replications">replications</a> to or from other URLs will be removed.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>A two-element NSArray whose values are the CouchPersistentReplications from and to the other URL, respectively. Returns nil if no target URL was given, or on failure.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Configures this database to replicate bidirectionally (sync to and from) a database at the given URL.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/replicationFromDatabaseAtURL:" title="replicationFromDatabaseAtURL:"></a>
	<h3 class="subsubtitle method-title">replicationFromDatabaseAtURL:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Creates a persistent replication from a database (a pull).</p>

<pre><code>Returns an object representing this replication. If a replication from this URL already exists, the configuration is unchanged. 
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (CouchPersistentReplication *)replicationFromDatabaseAtURL:(NSURL *)<em>sourceURL</em></code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Creates a persistent replication from a database (a pull).</p>

<pre><code>Returns an object representing this replication. If a replication from this URL already exists, the configuration is unchanged. 
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/replicationToDatabaseAtURL:" title="replicationToDatabaseAtURL:"></a>
	<h3 class="subsubtitle method-title">replicationToDatabaseAtURL:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Creates a persistent replication to a database (a push).</p>

<pre><code>Returns an object representing this replication. If a replication from this URL already exists, the configuration is unchanged. 
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (CouchPersistentReplication *)replicationToDatabaseAtURL:(NSURL *)<em>targetURL</em></code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Creates a persistent replication to a database (a push).</p>

<pre><code>Returns an object representing this replication. If a replication from this URL already exists, the configuration is unchanged. 
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/slowQueryWithMap:" title="slowQueryWithMap:"></a>
	<h3 class="subsubtitle method-title">slowQueryWithMap:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Convenience method that creates a custom query from a JavaScript map function.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (CouchQuery *)slowQueryWithMap:(NSString *)<em>map</em></code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Convenience method that creates a custom query from a JavaScript map function.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/slowQueryWithMap:reduce:language:" title="slowQueryWithMap:reduce:language:"></a>
	<h3 class="subsubtitle method-title">slowQueryWithMap:reduce:language:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Returns a query that runs custom map/reduce functions.</p>

<pre><code>This is very slow compared to a precompiled view and should only be used for testing.
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (CouchQuery *)slowQueryWithMap:(NSString *)<em>map</em> reduce:(NSString *)<em>reduce</em> language:(NSString *)<em>language</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>map</em></dt>
			<dd><p>The map function source. Must not be nil.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>reduce</em></dt>
			<dd><p>The reduce function source, or nil for none.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>language</em></dt>
			<dd><p>The language of the functions, or nil for JavaScript.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Returns a query that runs custom map/reduce functions.</p>

<pre><code>This is very slow compared to a precompiled view and should only be used for testing.
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/unretainDocumentCache" title="unretainDocumentCache"></a>
	<h3 class="subsubtitle method-title">unretainDocumentCache</h3>
	
	

	<div class="method-subsection method-declaration"><code>- (void)unretainDocumentCache</code></div>

    
</div>
						
						<div class="section-method">
	<a name="//api/name/untitledDocument" title="untitledDocument"></a>
	<h3 class="subsubtitle method-title">untitledDocument</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Creates a <a href="../Classes/CouchDocument.html">CouchDocument</a> object with no current ID.</p>

<pre><code>The first time you PUT to that document, it will be created on the server (via a POST). 
</code></pre>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (CouchDocument *)untitledDocument</code></div>

    
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Creates a <a href="../Classes/CouchDocument.html">CouchDocument</a> object with no current ID.</p>

<pre><code>The first time you PUT to that document, it will be created on the server (via a POST). 
</code></pre>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CouchDatabase.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2012 Jens Alfke. All rights reserved. (Last updated: 2012-11-06)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.1 (build 840)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>